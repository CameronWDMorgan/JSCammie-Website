<!-- setup basic html template with metadata etc: -->
<html>
<head>
    <title>Redeem Codes | JSCammie.com</title>
    <link rel='stylesheet' href='/style.css'/>
    
    <%- include('../partials/_headerAll') %>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K3KJJKS1R4"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-K3KJJKS1R4');
    </script>
    
</head>
<body>

    <!-- get partials/_navigation: -->
    <%- include('../partials/_navigation') %>

    <div class="center-fully-no-flex" style="margin-bottom: 1rem;">
        <%- include('../partials/_bannerAdvert') %>
    </div>

    <div class="round-frosted page-content mw50-dynamic" style="padding: 40px; justify-content: center;">
        <h1>Redeem Codes Below</h1>

        <p>Enter your code below to redeem your reward!</p>

        <form action="/redeem-code" method="POST">
            <input type="text" name="code" placeholder="Enter your code here" required>
            <button type="submit">Redeem</button>
        </form>

        <script>
    
            document.querySelector('form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const code = e.target.code.value;
                const response = await fetch('/redeem-code', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ code })
                });
                const data = await response.json();
                alert(data.message);
            });
        
        </script>

    </div>

    <!-- get partials/_footer: -->
    <%- include('../partials/_footer') %>
    
</body>
</html>